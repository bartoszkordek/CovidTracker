input {
  file {
    type => "account-log"
    path => "/logs/account.log"
  }

  file {
    type => "search-log"
    path => "/logs/search.log"
  }

  file {
      type => "config-log"
      path => "/logs/config-server.log"
    }
}

output {
    if [type] =="account-log"{
        elasticsearch {
            hosts => ["elasticsearch:9200"]
            index => "account-%{+YYYY.MM.dd}"
        }
    }else if [type] =="search-log"{
        elasticsearch {
            hosts => ["elasticsearch:9200"]
            index => "search-%{+YYYY.MM.dd}"
        }
    }else if [type] =="config-log"{
         elasticsearch {
             hosts => ["elasticsearch:9200"]
             index => "config-%{+YYYY.MM.dd}"
         }
    }

  stdout { codec => rubydebug }
}